# ExMemo

> æˆ‘çš„æ•°æ®æˆ‘åšä¸» ğŸš€

## 1 ä»‹ç»

### 1.1 åŠŸèƒ½

![](./images/img1.png)

ExMemo æ˜¯ä¸€æ¬¾ä¸ªäººçŸ¥è¯†ç®¡ç†å·¥å…·ï¼Œä¸“æ³¨äºé›†ä¸­è®°å½•å’Œç®¡ç†å¤šç§ä¿¡æ¯ç±»å‹ï¼Œå¦‚å–œçˆ±çš„æ–‡å­—ã€ç½‘é¡µã€å·¥ä½œæ–‡æ¡£ã€å›¾ç‰‡ã€éŸ³ä¹ã€è§†é¢‘ï¼Œä»¥åŠç”Ÿæ´»æ„Ÿæ‚Ÿä¸æ€è€ƒã€‚å®ƒè¿˜èƒ½è®°å½•ç‰©å“ä½ç½®ã€ç”µè¯å·ç å’Œåœ°å€ç­‰å…·ä½“ä¿¡æ¯ã€‚ExMemo é€šè¿‡è‡ªåŠ¨åˆ†ç±»å’Œå‘½åï¼Œå®ç°ä¿¡æ¯çš„ç³»ç»ŸåŒ–æ•´åˆï¼Œå¸®åŠ©ç”¨æˆ·æ‹“å®½æ€ç»´è¾¹ç•Œï¼Œå‘ç°å†…åœ¨å…³è”ã€‚

![](./images/img2.png)

ç³»ç»ŸåŒ…æ‹¬æ•°æ®åº“ã€åç«¯å’Œå¤šä¸ªå‰ç«¯ç»„ä»¶ã€‚åˆ†å¸ƒå¼å­˜å‚¨å’Œæ•°æ®åº“ç”¨äºä¿å­˜ç”¨æˆ·æ–‡ä»¶ã€æ–‡æœ¬åŠå…¶å‘é‡æ•°æ®ï¼Œå¹¶æ”¯æŒæœ¬åœ°éƒ¨ç½²ä»¥ä¿æŠ¤ç”¨æˆ·éšç§ã€‚åç«¯æä¾›é€šç”¨æ¥å£è¿›è¡Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼Œè´Ÿè´£è°ƒç”¨å¤§æ¨¡å‹å’Œå¤„ç†æ•°æ®ã€‚ç³»ç»Ÿå…¼å®¹ OpenAIã€Deepseekã€Qwen ç­‰åœ¨çº¿å¤§æ¨¡å‹ï¼Œä»¥åŠ Ollama ç¦»çº¿æ¨¡å‹ã€‚å¤šä¸ªå‰ç«¯ä»¥ Web æœåŠ¡ã€å¾®ä¿¡æœºå™¨äººã€Obsidian æ’ä»¶å’Œæµè§ˆå™¨æ’ä»¶ç­‰å½¢å¼ï¼Œä¾¿äºç”¨æˆ·ä¸Šä¼ å’Œä¸‹è½½æ•°æ®ã€‚

æˆ‘ä»¬åœ¨ ExMemo æ¡†æ¶ä¸Šå¢æ·»äº†å¤šç§å®ç”¨å·¥å…·ï¼ŒåŒ…æ‹¬çƒ­é‡è®¡ç®—ã€ç¿»è¯‘ã€è®ºæ–‡è¾…åŠ©é˜…è¯»å’Œè‹±è¯­å­¦ä¹ ã€‚è¿™äº›å·¥å…·å±•ç¤ºäº†ä¸ªäººæ•°æ®ç»“åˆå¤§æ¨¡å‹ä¸å·¥å…·åçš„æ•ˆæœã€‚æ­¤å¤–ï¼Œå…¶ä»–å¼€å‘è€…ä¹Ÿå¯ä»¥åˆ©ç”¨åç«¯æœåŠ¡ï¼Œå¼€å‘åŸºäºæ•°æ®çš„ä¸ªæ€§åŒ–åº”ç”¨ã€‚

*æ•°æ®ç®¡ç†*

![](./images/data_manager.png)

*èŠå¤©ç•Œé¢*

![](./images/chat.png)

*æŸ¥çœ‹ç¬”è®°*

![](./images/view.png)

*ä¹¦ç­¾ç®¡ç†*

![](./images/bookmark.png)

### 1.2 è§†é¢‘ä»‹ç»

* [æŸ¥çœ‹å’Œç¼–è¾‘å†…å®¹](https://www.bilibili.com/video/BV18ZQuY2ETP/)
* [å­¦ä¹ å·¥å…·](https://www.bilibili.com/video/BV1hhQ6YvE4m/)

## 2 å®‰è£…

ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–ç®¡ç†ï¼Œé€šè¿‡ PgVector æ•°æ®åº“ä»¥åŠ Pythonã€JavaScriptï¼ˆVUE3ï¼‰å’Œ TypeScript ç­‰è¯­è¨€å®ç°ã€‚ä¸ºé€‚åº”ä¸åŒç¯å¢ƒï¼Œç³»ç»Ÿæ‹†åˆ†ä¸ºå¤šä¸ª Docker é•œåƒã€‚ç”¨æˆ·é€šè¿‡æ“ä½œ docker-compose å³å¯å¯åŠ¨æ‰€éœ€æ¨¡å—ã€‚

### 2.1 é…ç½®

ä¸‹è½½æºç ï¼Œå¹¶å‡è®¾ç”¨æˆ·çš„æ‰€æœ‰é¡¹ç›®ç›¸å…³æ•°æ®éƒ½å­˜å‚¨åœ¨ /exports/exmemo ç›®å½•ä¸­ã€‚

``` shell
export EXMEMO_DIR=/exports/exmemo
mkdir -p $EXMEMO_DIR/code $EXMEMO_DIR/data
cd $EXMEMO_DIR/code
git clone https://github.com/exmemo-ai/exmemo.git
cd exmemo
```

æ ¹æ® env_default çš„æ ¼å¼æ¥è®¾ç½®ç”¨æˆ·çš„ä¸ªäººç¯å¢ƒå˜é‡ã€‚

``` shell
cp backend/env_default backend/.env
vi backend/.env
```

è‡³å°‘éœ€è¦è®¾ç½®ä»¥ä¸‹å‚æ•°ï¼šå„ä¸ª IP åœ°å€ã€LANGUAGE_CODE å’Œ PGSQL_PASSWORDã€‚

**å»ºè®®ä½¿ç”¨ OpenAI ä½œä¸ºåç«¯æ¨¡å‹ï¼š**  

* å¦‚æœå¯è¿æ¥ OpenAIï¼Œå»ºè®®å°† DEFAULT_CHAT_MODEL è®¾ä¸º gpt-4oï¼ŒDEFAULT_TOOL_MODEL è®¾ä¸º gpt-4o-miniã€‚
* å¦‚æœæ— æ³•è¿æ¥ OpenAIï¼ˆå¦‚åœ¨ä¸­å›½åœ°åŒºï¼‰ï¼Œåˆ™å»ºè®®å°† DEFAULT_CHAT_* å’Œ DEFAULT_TOOL_* è®¾ç½®ä¸º deepseekã€‚

### 2.2 å¯åŠ¨æœåŠ¡

#### 2.2.1 ä»¥ç”Ÿäº§æ¨¡å¼å¯åŠ¨

```shell
docker-compose --env-file backend/.env --profile production up -d
```

è¯·æŸ¥çœ‹ shell/prod.sh è·å–å…·ä½“å‘½ä»¤ã€‚

æŒ‰ç…§ä¸Šè¿°æ­¥éª¤å®Œæˆåï¼Œå³å¯ä½¿ç”¨ ExMemo çš„åŸºæœ¬åŠŸèƒ½ã€‚æ‰“å¼€ http://ip:8084/ å¯ä»¥è®¿é—®å‰ç«¯ç•Œé¢ï¼Œä½¿ç”¨å‰è¯·å…ˆæ³¨å†Œç”¨æˆ·è´¦å·ã€‚

### 2.3 å‡çº§

åœ¨é¡¹ç›®å‡çº§æ—¶ï¼Œä¸ºé¿å…å‡ºç°æ„å¤–é—®é¢˜ï¼Œéœ€è¦é‡æ–°æ‰“åŒ… Docker é•œåƒï¼Œé‡æ–°è¿è¡Œ Docker Composeï¼Œå¹¶åˆ é™¤æ—§å®¹å™¨ã€‚å…·ä½“æ“ä½œè¯·å‚è€ƒ shell/update.shã€‚

### 2.4 æ³¨æ„

* è¯·åŒæ—¶å‡çº§å‰ç«¯ã€åç«¯ã€æ’ä»¶å’Œé…ç½®æ–‡ä»¶.envï¼Œå¦åˆ™å¯èƒ½å› æ¥å£å‡çº§å¯¼è‡´éƒ¨åˆ†åŠŸèƒ½å¤±æ•ˆã€‚
* æ‰“åŒ…æ—¶å†…å­˜å ç”¨è¾ƒå¤§ï¼Œå½“äº‘æœåŠ¡å™¨èµ„æºæœ‰é™æ—¶ï¼Œå»ºè®®ä¼˜å…ˆé‡Šæ”¾ä¸€äº›èµ„æºã€‚
* Docker-compose ä¸­è®¾ç½®çš„æ•°æ®åº“å¯†ç ä»…åœ¨åˆ›å»ºæ•°æ®åº“æ—¶ç”Ÿæ•ˆï¼Œè‹¥éœ€ä¿®æ”¹ï¼Œéœ€åœ¨.env æ–‡ä»¶ä¸­æ›´æ–°ï¼Œå¹¶è¿æ¥æ•°æ®åº“ä½¿ç”¨ SQL è¯­å¥è¿›è¡Œæ›´æ”¹ã€‚

## 3 å…¶å®ƒé…ç½®

*ä»¥ä¸‹é…ç½®å‡ä¸ºå¯é€‰é¡¹ï¼Œä¸å½±å“æ ¸å¿ƒåŠŸèƒ½ã€‚*

### 3.1 Obsidian æ’ä»¶

æ‚¨å¯ä»¥åœ¨ Obsidian ç¤¾åŒºå®‰è£…ç¬¬ä¸‰æ–¹æ’ä»¶ obsidian-exmemo-clientã€‚åªéœ€åœ¨è®¾ç½®ä¸­è¾“å…¥ ExMemo çš„åç«¯åœ°å€ï¼Œå³å¯å®ç° Obsidian ç¬”è®°çš„ç®¡ç†ä¸ç¬”è®°å¤šè®¾å¤‡åŒæ­¥ã€‚

æ’ä»¶æºç å¯åœ¨æ­¤æŸ¥çœ‹: https://github.com/exmemo-ai/obsidian-exmemo-client

### 3.2 æµè§ˆå™¨æ’ä»¶

browser-exmemo-bmsync æ˜¯ä¸€æ¬¾åŸºäº ExMemo çš„ Chrome æ’ä»¶ï¼Œå¯å°†æµè§ˆå™¨ä¹¦ç­¾åŒæ­¥åˆ° ExMemoã€‚ä½¿ç”¨è¯´æ˜è¯¦è§: https://github.com/exmemo-ai/browser-exmemo-bmsync

### 3.3 å¾®ä¿¡æ’ä»¶

æ‚¨å¯ä»¥é€šè¿‡é›†æˆå¼€æºé¡¹ç›® chatgpt-on-wechatï¼ˆCOWï¼‰ï¼Œåœ¨å¾®ä¿¡ã€é£ä¹¦ã€é’‰é’‰ä¸­ä½¿ç”¨ ExMemoã€‚ExMemo ä½œä¸º COW çš„æ’ä»¶ï¼Œå…¶æºç ä½äºæœ¬é¡¹ç›®ç›®å½•ä¸­çš„ ui/wechat/ã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š

é¦–å…ˆï¼Œä¸‹è½½ chatgpt-on-wechat é¡¹ç›®ï¼š

``` shell
cd $EXMEMO_DIR/code
git clone https://github.com/zhayujie/chatgpt-on-wechat
```

å®‰è£…æ’ä»¶ï¼š

``` shell
cd $EXMEMO_DIR/code/exmemo/ui/wechat
. install.sh # å¤åˆ¶æ’ä»¶åˆ°å¾®ä¿¡å·¥å…·ä¸­
```

å¯åŠ¨ wechat é•œåƒï¼š

``` shell
cd $EXMEMO_DIR/code/exmemo/
docker-compose --env-file backend/.env --profile production up -d ewechat
```

æŸ¥çœ‹ log ä¿¡æ¯ï¼š

```shell
$ docker logs ewechat
```

è°ƒè¯•æ–¹æ³•ï¼šè¿è¡Œç¨‹åºæ—¶ï¼Œç¡®è®¤ ExMemo æ’ä»¶æ˜¯å¦æ­£å¸¸åŠ è½½å’Œåˆå§‹åŒ–ã€‚å¦‚æœæ— æ³•æ­£å¸¸åˆå§‹åŒ–ï¼Œè¯·ç¡®è®¤åœ¨ chatgpt-on-wechat/plugins/plugins.json æ–‡ä»¶ä¸­ï¼ŒExMemo æ˜¯å¦è®¾ç½®ä¸º trueã€‚

### 3.4 ä»¥å¼€å‘æ¨¡å¼å¯åŠ¨

å¦‚æœéœ€è¦ä¿®æ”¹å’Œè°ƒè¯•å‰åç«¯ä»£ç ï¼Œè¯·ä»¥å¼€å‘æ¨¡å¼å¯åŠ¨ï¼Œå¹¶æ‰‹åŠ¨è¿è¡Œåç«¯ Python ç¨‹åºã€‚

```shell
docker-compose --env-file backend/.env --profile development up -d
docker exec -it ebackend_dev bash
> cd backend
> python manage.py runserver 0.0.0.0:8005
```

å…·ä½“æ–¹æ³•è¯·å‚è§ shell/dev.sh, shell/run.shã€‚

### 3.5 S3 å­˜å‚¨ï¼šminio

æ•°æ®é»˜è®¤å­˜å‚¨äºå®¿ä¸»æœºç›®å½•ã€‚è‹¥éœ€ä½¿ç”¨ Minio S3 å­˜å‚¨ï¼Œè¯·åœ¨.env æ–‡ä»¶ä¸­é…ç½® MINIO ç›¸å…³é€‰é¡¹ã€‚Minio Docker ä¸ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå¦‚éœ€åœ¨å®¿ä¸»æœºä¸Šå¯ç”¨ Minio æœåŠ¡ï¼Œè¯·æ‰‹åŠ¨æ“ä½œã€‚

```shell
docker-compose -f docker-compose-dev.yml up -d minio
```

## 4 æ›´æ–°æ—¥å¿—

æŸ¥çœ‹å®Œæ•´æ›´æ–°å†å²ï¼š[CHANGELOG](./CHANGELOG_cn.md)

## 5 License

æœ¬é¡¹ç›®æ ¹æ® GNU Lesser General Public License v3.0 æˆæƒã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](./LICENSE) æ–‡ä»¶ã€‚